# APE 시스템 개발 철학 및 지침

이 문서는 APE(Agentic Pipeline Engine) 익스텐션의 개발 철학, 핵심 가치, 그리고 개발 지침을 설명합니다. 모든 개발 결정은 이 문서에 정의된 원칙에 따라 이루어져야 합니다.

## 1. 핵심 개발 철학

### 개발자 중심 설계
APE 익스텐션은 개발자의 실제 워크플로우에 자연스럽게 통합되어야 합니다. 우리는 개발자가 코딩에 집중할 수 있도록 지원하는 도구를 만듭니다.

### 단순함과 유연함
복잡한 기능보다 단순하고 유연한 설계를 우선시합니다. 직관적인 인터페이스와 확장 가능한 아키텍처가 최우선 가치입니다.

### 알아차리는 강화
사용자의 작업 패턴을 학습하고 컨텍스트에 기반한 응답을 제공합니다. 사용자가 필요로 하는 것을 미리 예측하고 적절한 도움을 제공해야 합니다.

### 안정적 연결
내부망/외부망 API 연결 상태를 지속적으로 모니터링하고 문제 발생 시 적절히 대응합니다. 네트워크 상태와 무관하게 일관된 사용자 경험을 제공합니다.

## 2. 아키텍처 원칙

### 서비스 지향 아키텍처
모든 기능은 명확하게 정의된 책임을 가진 서비스로 구현됩니다. 서비스는 독립적으로 테스트 가능하며 명확한 인터페이스를 제공해야 합니다.

### 플러그인 기반 확장성
핵심 기능은 플러그인 시스템을 통해 확장 가능해야 합니다. 모든 플러그인은 표준화된 인터페이스를 준수해야 합니다.

### 의존성 주입
모든 서비스는 의존성 주입 패턴을 통해 결합도를 낮추고 테스트 용이성을 높여야 합니다. 전역 상태와 싱글톤 패턴은 지양합니다.

### 이벤트 기반 통신
컴포넌트 간 통신은 이벤트 에미터를 통해 이루어져야 합니다. 이는 컴포넌트 간 결합도를 낮추고 확장성을 향상시킵니다.

## 3. 코드 작성 지침

### 코드 구조
- 모든 클래스는 단일 책임 원칙(SRP)을 준수해야 합니다.
- 파일과 디렉토리 구조는 정의된 규칙을 따라야 합니다.
- 서비스 클래스는 명확한 역할과 책임을 가져야 합니다.
- 무거운 클래스는 여러 작은 클래스로 분리해야 합니다.

### 네이밍 규칙
- 클래스: PascalCase (예: CommandService)
- 함수/변수: camelCase (예: executeCommand)
- 인터페이스: 'I' 접두사 (예: ICommandHandler)
- 상수: 대문자 및 언더스코어 (예: MAX_RETRY_COUNT)

### 타입 안전성
- 모든 변수, 매개변수, 반환 값에 명시적 타입을 지정해야 합니다.
- `any` 타입 사용을 최소화해야 합니다.
- 타입 단언(`as`)은 필요한 경우에만 사용해야 합니다.
- 제네릭을 적절히 활용해야 합니다.

### 비동기 처리
- 모든 비동기 작업은 Promise 또는 async/await 패턴을 사용해야 합니다.
- 콜백 패턴은 지양해야 합니다.
- 모든 비동기 작업에는 적절한 오류 처리가 포함되어야 합니다.
- 비동기 작업의 상태(진행 중, 완료, 오류)를 사용자에게 명확히 전달해야 합니다.

## 4. UI/UX 지침

### 한글 우선 정책
모든 사용자 인터페이스 요소는 한글로 표시되어야 합니다. 필요한 경우에만 영문을 병기할 수 있습니다.

### VS Code 통합
모든 UI 요소는 VS Code의 디자인 가이드라인을 준수해야 합니다. 이는 일관된 사용자 경험을 제공하기 위함입니다.

### 테마 호환성
모든 UI 요소는 VS Code의 다크/라이트 테마와 호환되어야 합니다. 하드코딩된 색상 대신 VS Code 테마 변수를 사용해야 합니다.

### 접근성
모든 UI 요소는 접근성 지침을 준수해야 합니다. 이는 키보드 네비게이션, 충분한 색상 대비, 스크린 리더 호환성을 포함합니다.

## 5. 성능 최적화

### 메모리 관리
모든 리소스(이벤트 리스너, 타이머, 구독 등)는 적절히 해제되어야 합니다. 모든 서비스 클래스는 dispose() 메서드를 구현해야 합니다.

### 네트워크 최적화
API 호출은 필요한 경우에만 수행해야 합니다. 캐싱, 디바운싱, 스로틀링을 적절히 활용하여 네트워크 사용을 최적화해야 합니다.

### UI 성능
DOM 조작은 최소화해야 합니다. 대규모 데이터셋은 가상화 기법을 사용하여 표시해야 합니다. 무거운 연산은 UI 스레드 외부에서 수행해야 합니다.

## 6. 오류 처리 및 로깅

### 오류 처리 전략
모든 예외 상황에 대한 처리 방식을 명확히 정의해야 합니다. 사용자에게 유용한 오류 메시지를 제공하고 복구 방법을 안내해야 합니다.

### 로깅 지침
로그 레벨(debug, info, warn, error)을 적절히 사용해야 합니다. 민감한 정보는 로그에서 마스킹 처리해야 합니다. 중요한 작업과 오류는 항상 로깅해야 합니다.

### 사용자 피드백
작업 진행 상태, 성공/실패 여부, 예상 대기 시간 등을 사용자에게 명확히 전달해야 합니다. 장시간 실행 작업에는 진행률 표시기를 제공해야 합니다.

## 7. 레거시 코드 관리

### 레거시 코드 처리
정식 배포 전까지는 하위 호환성을 고려하지 않고 레거시 코드를 과감히 삭제해야 합니다. 레거시 코드와 새 코드의 공존은 허용되지 않습니다.

### 리팩토링 지침
기능 단위로 완전한 리팩토링을 수행해야 합니다. 부분적 리팩토링은 코드 일관성을 저해합니다. 리팩토링 시에는 테스트를 통해 기능 동작을 검증해야 합니다.

## 8. 개발 프로세스

### 품질 보증
모든 코드 변경사항은 코어 체크리스트(`CLAUDE_CORE_CHECKLIST.md`)와 안티패턴 목록(`CLAUDE_ANTIPATTERNS.md`)을 기준으로 검증해야 합니다.

### 코드 리뷰
모든 중요한 변경사항은 코드 리뷰를 거쳐야 합니다. 리뷰는 기능적 정확성, 코드 품질, 그리고 이 문서에 정의된 원칙 준수 여부를 확인해야 합니다.

### 문서화
모든 핵심 기능과 API는 문서화되어야 합니다. 문서는 코드와 함께 유지보수되어야 하며, 항상 최신 상태를 유지해야 합니다.

## 결론

APE 익스텐션은 개발자의 생산성을 향상시키기 위한 도구입니다. 모든 개발 결정은 이 목표를 염두에 두고 이루어져야 합니다. 이 문서에 정의된 철학과 지침은 일관되고 고품질의 소프트웨어를 개발하기 위한 기반을 제공합니다.

이 문서는 프로젝트 관리자가 직접 관리하며, 개발 과정에서 발견된 새로운 통찰력을 반영하여 지속적으로 발전될 것입니다.

**마지막 업데이트: 2023-05-06**