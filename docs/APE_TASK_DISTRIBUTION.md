# APE 확장 프로그램 작업 분류 문서

이 문서는 APE(Agentic Pipeline Engine) 확장 프로그램의 개발 작업을 두 명의 작업자가 독립적으로 진행할 수 있도록 작업을 분류한 내용입니다.

## 개요

APE 확장 프로그램의 남은 TODO 항목들을 검토하여, 독립적으로 진행 가능한 작업들을 두 개의 트랙으로 분류했습니다:
- **작업자 1**: UI 및 클라이언트 기능 중심
- **작업자 2**: 백엔드 및 통합 기능 중심

각 트랙은 상대방의 작업에 최소한으로 의존하면서 개발을 진행할 수 있습니다.

## 작업자 1: UI 및 클라이언트 기능 중심

### 1. 파일 탐색기 개선 작업
- **파일 위치**: `src/ui/ApeFileExplorerProvider.ts`
- **작업 내용**:
  - 파일 드래그 앤 드롭 기능 구현
  - 파일 필터링 및 검색 기능 구현
  - 파일 상태 캐싱 구현 (파일 시스템 접근 최소화)
  - Git 상태 표시 통합 (수정된 파일 표시)
  - 대규모 폴더 처리를 위한 성능 최적화
- **예상 소요 시간**: 2-3일
- **우선순위**: 높음 (사용자 경험에 직접적인 영향)

### 2. 하이브리드 UI 기능 강화
- **관련 파일**:
  - `resources/js/hybrid-ape-ui.js`
  - `resources/css/hybrid-ui.css`
  - `src/ui/ApeHybridChatViewProvider.ts`
- **작업 내용**:
  - 컨텍스트 패널 UX 개선 (정보 표시 방식 개선)
  - 제안 바 알고리즘 정교화 (관련성 높은 제안 우선 표시)
  - 도메인 도구바 사용자 경험 개선 (직관적인 상호작용)
  - 반응형 레이아웃 최적화 (다양한 화면 크기 지원)
  - 키보드 단축키 지원 추가
- **예상 소요 시간**: 3-4일
- **우선순위**: 중간-높음

### 3. 채팅 히스토리 기능 구현
- **관련 파일**:
  - `src/ui/ApeTreeDataProvider.ts` (172줄 TODO)
  - `src/services/ChatService.ts`
- **작업 내용**:
  - 실제 채팅 히스토리 저장 및 불러오기 기능 구현
  - 세션 관리 UI 개선 (세션 이름 변경, 삭제 등)
  - 히스토리 검색 기능 추가
  - 세션 내보내기/가져오기 기능 추가
- **예상 소요 시간**: 2-3일
- **우선순위**: 중간

### 4. 설정 및 환경설정 개선
- **관련 파일**:
  - `package.json` (configuration 섹션)
  - `src/ui/ApeTreeDataProvider.ts` (설정 관련 코드)
- **작업 내용**:
  - UI 설정 페이지 구현 (웹뷰 기반)
  - 사용자 테마 지원 개선
  - 설정 동기화 기능 추가
  - 설정 백업/복원 기능 구현
- **예상 소요 시간**: 2일
- **우선순위**: 중간-낮음

## 작업자 2: 백엔드 및 통합 기능 중심

### 1. 외부 플러그인 시스템 구현
- **관련 파일**:
  - `src/core/plugin-system/PluginRegistryService.ts` (262줄 TODO)
  - `src/plugins/external/ExternalPluginLoader.ts`
- **작업 내용**:
  - 설정에서 외부 플러그인 로드 로직 구현
  - 플러그인 검증 및 보안 기능 추가
  - 플러그인 마켓플레이스 연동 구현 (선택적)
  - 플러그인 버전 관리 기능 구현
  - 플러그인 활성화/비활성화 기능 구현
- **예상 소요 시간**: 3-4일
- **우선순위**: 높음 (확장성에 중요)

### 2. 내부망 데이터 접근 로직 구현
- **관련 파일**:
  - `src/core/ApeCoreService.ts` (558줄, 683줄 TODO)
- **작업 내용**:
  - 내부망 API 연동 구현
  - 내부망 데이터 분석 로직 구현
  - 보안 프로토콜 및 인증 시스템 구현
  - 로깅 및 모니터링 시스템 구현
  - 오프라인 모드 지원 구현
- **예상 소요 시간**: 4-5일
- **우선순위**: 높음 (핵심 기능)

### 3. 지식 저장소(Vault) 실제 구현
- **관련 파일**:
  - `src/ui/ApeTreeDataProvider.ts` (356줄 TODO)
  - 새로운 서비스 파일 필요 (`src/services/VaultService.ts`)
- **작업 내용**:
  - 문서 저장 및 관리 시스템 구현
  - 문서 버전 관리 기능 구현
  - 검색 및 태그 시스템 구현
  - 접근 권한 관리 시스템 구현
  - 백업 및 복원 기능 구현
- **예상 소요 시간**: 3-4일
- **우선순위**: 중간

### 4. 규칙 엔진(Rules) 확장 개발
- **관련 파일**:
  - `src/ui/ApeTreeDataProvider.ts` (408줄 TODO)
  - `src/core/prompt/RulesEngineService.ts`
- **작업 내용**:
  - 사용자 정의 규칙 생성 인터페이스 구현
  - 규칙 저장 및 관리 기능 확장
  - 규칙 평가 엔진 성능 최적화
  - 컨텍스트 분석 알고리즘 개선
  - 규칙 활성화/비활성화 기능 구현
- **예상 소요 시간**: 2-3일
- **우선순위**: 중간-낮음

## 작업 진행 시 고려사항

### 작업자 간 협업 필요 지점

1. **API 인터페이스 설계**
   - 두 작업자가 API 규격을 먼저 합의해야 함
   - 인터페이스 문서 작성 및 공유 필요

2. **데이터 모델 정의**
   - 공유되는 데이터 구조는 사전에 정의 필요
   - 타입 및 스키마 문서화 필요

3. **통합 테스트**
   - 개별 기능 완료 후 통합 테스트 필요
   - 정기적인 코드 리뷰 및 머지 세션 계획

### 독립적으로 진행할 수 있는 방법

1. **기능별 브랜치 사용**
   - 각 기능을 별도 브랜치로 개발 (feature/file-explorer-enhancement, feature/plugin-system 등)
   - 완료된 기능은 개별적으로 PR 생성 및 머지

2. **인터페이스 먼저 정의**
   - 실제 구현 전 인터페이스 합의
   - 클래스 및 함수 시그니처 선정의

3. **목업 데이터 활용**
   - 상대방 개발이 완료되지 않은 부분은 목업으로 대체
   - 명확한 인터페이스 규약 준수

4. **주기적 동기화 미팅**
   - 주 1-2회 진행 상황 공유 및 핸드오버 미팅
   - 병합 충돌 사전 방지 및 해결 방안 논의

### 우선순위 제안

- **작업자 1**: 파일 탐색기 개선 → 하이브리드 UI 기능 강화 → 채팅 히스토리 → 설정 개선
- **작업자 2**: 외부 플러그인 시스템 → 내부망 데이터 접근 → 지식 저장소 → 규칙 엔진 확장

## 개발 환경 설정

각 작업자는 독립적인 개발 환경을 구성하여 작업을 진행하는 것이 좋습니다:

1. **리포지토리 포크 또는 브랜치 전략**
   - 메인 브랜치에서 개발자별 작업 브랜치 생성
   - 또는 fork 후 각자 작업하고 PR로 통합

2. **환경 변수 설정**
   - `.env.worker1`, `.env.worker2` 등 작업자별 환경 설정 파일 활용
   - 공유 설정과 개인 설정 분리

3. **로컬 개발 서버**
   - 각자 독립적인 포트에서 개발 서버 실행
   - 필요한 경우 Docker 컨테이너 활용하여 환경 격리

## 완료 기준

각 작업은 다음 기준을 충족했을 때 완료된 것으로 간주합니다:

1. **코드 구현 완료**
   - 기능 요구사항 충족
   - 타입 및 인터페이스 준수

2. **테스트 통과**
   - 단위 테스트 작성 및 통과
   - 통합 테스트 (가능한 경우) 통과

3. **문서화**
   - 코드 주석 및 JSDoc 완료
   - README 또는 기능 문서 업데이트

4. **코드 리뷰**
   - 상대 작업자의 코드 리뷰 완료
   - 코드 리뷰 피드백 반영

## 일정 제안

총 개발 기간을 2주로 계획할 경우:

- **1주차**:
  - 작업자 1: 파일 탐색기 개선 및 하이브리드 UI 기능 강화
  - 작업자 2: 외부 플러그인 시스템 및 내부망 데이터 접근 구현

- **2주차**:
  - 작업자 1: 채팅 히스토리 및 설정 개선
  - 작업자 2: 지식 저장소 및 규칙 엔진 확장
  - 공통: 통합 테스트 및 버그 수정

## 결론

이 작업 분류는 APE 확장 프로그램의 남은 기능을 효율적으로 개발하기 위한 가이드라인입니다. 실제 개발 과정에서는 상황에 따라 유연하게 조정될 수 있으며, 두 작업자 간의 원활한 소통이 무엇보다 중요합니다.