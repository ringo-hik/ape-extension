# APE 명령어 시스템 개선 제안서

## 1. 현재 AI 어시스턴트 명령어 패턴 분석

### 1.1 주요 AI 어시스턴트 명령어 시스템 비교

| 도구 | 주요 접두사 | 특징 | 장점 | 단점 |
|------|------------|------|------|------|
| **GitHub Copilot** | `/` | 단일 접두사 시스템, 명령어와 자연어 구분이 명확함 | 단순하고 기억하기 쉬움 | 기능별 구분이 어려움 |
| **Cursor** | `/` | VS Code 기반, 슬래시 뒤 자동완성 지원 | 직관적이고 IDE 통합성 높음 | 고급 명령어 구조화 제한적 |
| **Codeium** | `#` | 해시태그 기반 명령어, 문맥 내 자연스러운 언급 | 문서/코드 참조에 자연스러움 | 명확한 명령 구분이 어려울 수 있음 |
| **Visual Studio IntelliCode** | `>` | 명령 팔레트 방식, 별도 인터페이스 | 기존 VS Code 방식과 일관성 | 채팅 흐름 단절 가능성 |
| **WindSurf** | `/`, `@` | 이중 접두사 시스템(기능/대상 구분) | 기능별 명확한 구분 | 학습 곡선이 존재함 |

### 1.2 명령어 UX 패턴 분석

1. **자동완성 메커니즘**
   - 접두사 입력 후 팝업 목록 표시
   - 유사도 기반 필터링
   - 최근/자주 사용한 명령어 우선 표시
   - 키보드 화살표로 이동 + Tab/Enter로 선택

2. **시각적 표현**
   - 명령어 하이라이팅
   - 아이콘 결합
   - 선택 시 자세한 설명 표시
   - 색상 구분(카테고리별)

3. **마우스/키보드 병행**
   - 채팅창 상단/측면 빠른 액션 버튼
   - 우클릭 컨텍스트 메뉴에 주요 명령어
   - 키보드 명령어와 동일 기능 버튼 매핑
   - 자주 사용하는 명령어 핫키 지원

## 2. APE 명령어 시스템 개선 제안

### 2.1 `/`와 `@` 접두사 명확한 구분

| 접두사 | 목적 | 예시 |
|-------|------|------|
| `/` | **일반 시스템 명령어**: 채팅 관리, 설정, UI 제어 등 | `/clear`, `/settings`, `/history` |
| `@` | **LLM 에이전트 기능**: 고급 분석, 자동화 작업 등 | `@git:commit-message`, `@doc:search` |

### 2.2 명령어 구조 체계화

```
@<도메인>:<동작>[:<세부옵션>]
```

- **도메인**: 기능 영역 (git, doc, vault 등)
- **동작**: 수행할 작업 (search, add, commit-message 등)
- **세부옵션**: 선택적 매개변수 (필요시)

### 2.3 직관적 자동완성 시스템

1. **2단계 자동완성**:
   - 1단계: `@` 입력 시 도메인 목록 표시
   - 2단계: 도메인 선택 후 해당 도메인의 동작 목록 표시

2. **인라인 설명**:
   - 각 명령어에 간결한 설명 제공
   - 선택 시 세부 사용법 표시

3. **컨텍스트 인식**:
   - 현재 작업 상태에 따라 관련 명령어 우선 표시
   - 최근 사용 패턴 기반 추천

### 2.4 통합 UI 개선안

1. **명령어 팔레트 통합**:
   - VS Code의 명령어 팔레트(Ctrl+Shift+P)와 유사한 경험
   - 채팅창에서 `/`나 `@` 입력 시 인라인 팔레트 표시

2. **버튼 인터페이스**:
   - 채팅창 상단에 주요 명령어 카테고리 버튼
   - 버튼 클릭 시 관련 명령어 팝업 메뉴
   - 최근 사용 명령어 섹션

3. **단축키 지원**:
   - 주요 명령어에 단축키 할당
   - 키보드 사용자를 위한 단축키 표시

## 3. 구체적 개선 제안

### 3.1 명령어 입력 및 자동완성 UX

```
사용자: @git:
시스템: [자동완성 목록 표시]
      > commit-message - 현재 변경사항에 대한 커밋 메시지 생성
      > summarize - 현재 브랜치의 변경사항 요약
      > explain-diff - 특정 파일/커밋의 변경사항 설명
      > review-pr - PR 코드 리뷰 자동화
      > conflict-resolve - 충돌 해결 지원
```

### 3.2 직관적 아이콘 및 색상 코드

| 도메인 | 아이콘 | 색상 | 설명 |
|-------|-------|------|------|
| **git** | `git-branch` | 주황색 | Git 관련 고급 기능 |
| **doc** | `book-open` | 파란색 | 문서 검색 및 관리 |
| **vault** | `archive` | 녹색 | 지식 저장소 관리 |
| **rules** | `list-ordered` | 보라색 | 프롬프트 룰 관리 |

### 3.3 통합 명령 버튼 인터페이스

![명령어 버튼 인터페이스 예시](https://via.placeholder.com/800x200)

1. **주요 기능**:
   - 채팅창 상단에 도메인별 아이콘 버튼
   - 호버 시 도메인 이름 툴팁
   - 클릭 시 해당 도메인 명령어 목록 팝업
   - 명령어 선택 시 자동으로 채팅창에 입력

2. **사용성 이점**:
   - 마우스 사용자 접근성 향상
   - 명령어 검색 없이 바로 사용 가능
   - 시각적 학습 효과

### 3.4 명령어 도움말 시스템

1. **인라인 도움말**:
   - `/help` 명령어로 전체 명령어 목록 및 설명
   - `/help @git` 형식으로 특정 도메인 도움말

2. **상황별 가이드**:
   - 명령어 사용 오류 시 교정 제안
   - 관련 명령어 추천
   - 사용 예시 제공

## 4. 명령어 사용성 향상을 위한 추가 제안

### 4.1 점진적 노출 전략

1. **핵심 명령어 우선**:
   - 초기에는 자주 사용하는 핵심 명령어만 표시
   - 사용자 숙련도에 따라 고급 명령어 노출

2. **상황별 명령어 추천**:
   - 사용자 작업 맥락에 따른 추천
   - "이런 상황에서는 @git:explain-diff를 사용해보세요" 같은 제안

### 4.2 명령어 이력 및 재사용

1. **명령어 히스토리**:
   - 최근 사용한 명령어 기록
   - 간단한 키/클릭으로 재사용

2. **명령어 사용자화**:
   - 자주 사용하는 명령어 조합 저장
   - 별칭(alias) 생성 기능

### 4.3 마이그레이션 및 학습 지원

1. **점진적 소개**:
   - 기존 명령어 체계에서 새 체계로 점진적 전환
   - 이전 명령어 패턴 임시 지원

2. **학습 지원**:
   - 간결한 튜토리얼
   - 명령어 시트 제공
   - 첫 사용 시 가이드

## 5. 결론 및 권장사항

1. **명확한 구분**:
   - `/`는 일반 시스템 명령어
   - `@`는 LLM 기반 고급 에이전트 기능

2. **직관적 UX**:
   - 자동완성 및 인라인 설명
   - 시각적 구분(아이콘, 색상)
   - 키보드와 마우스 병행 지원

3. **단계적 접근**:
   - 핵심 명령어에 집중한 초기 구현
   - 사용자 피드백 기반 개선
   - 점진적 기능 확장

4. **통합 경험**:
   - VS Code 기존 UX와 일관성 유지
   - 자연스러운 대화 흐름 유지
   - 명령어와 자연어 간 원활한 전환

이 개선안은 APE의 강력한 LLM 에이전트 기능을 사용자가 더 직관적이고 효율적으로 활용할 수 있도록 하는 동시에, 학습 곡선을 최소화하고 일관된 사용자 경험을 제공하는 것을 목표로 합니다.